# MEDITACION GUR√ö 
<!-- Improved compatibility of back to top link: See: https://github.com/othneildrew/Best-README-Template/pull/73 -->
<a id="readme-top"></a>
<!--
*** Thanks for checking out the Best-README-Template. If you have a suggestion
*** that would make this better, please fork the repo and create a pull request
*** or simply open an issue with the tag "enhancement".
*** Don't forget to give the project a star!
*** Thanks again! Now go create something AMAZING! :D
-->



<!-- PROJECT SHIELDS -->
<!--
*** I'm using markdown "reference style" links for readability.
*** Reference links are enclosed in brackets [ ] instead of parentheses ( ).
*** See the bottom of this document for the declaration of the reference variables
*** for contributors-url, forks-url, etc. This is an optional, concise syntax you may use.
*** https://www.markdownguide.org/basic-syntax/#reference-style-links
-->




<!-- PROJECT LOGO -->
<br />
<div align="center">
  <a href="https://github.com/S0gt/MEDITACION-DE-GURU/blob/main/IMAGENES/logo2.png?raw=true">
    <img src="IMAGENES/logo2.png" alt="Logo" width="250" height="250">
  </a>



<!-- SOBRE NUESTRO PROJECTO -->


<div align="left">

  <details>
    <summary><h2>SOBRE NUESTRO PROYECTO üßêüßê</h2></summary>

En nuestro proyecto creamos una p√°gina web donde los usuarios pueden publicar rese√±as sobre pel√≠culas para que otras personas puedan leerlas y conocer sus opiniones.

<div align="left">

# Idea seleccionada üí°üí°

P√°gina web de rese√±as de pel√≠culas, con la capacidad de crear listas personalizadas y en la que cada usuario pueda dar su opini√≥n sobre las pel√≠culas que publiquemos.

# ¬øHasta donde queremos llegar con el proyecto? üèÅüèÅ

Nuestra intenci√≥n es tener una p√°gina en la que puedas hacer rese√±as r√°pidas y sencillas. Tambi√©n queremos que puedas crear listas con tus contenidos favoritos que tienes pendientes por ver.
 
# ¬øA qui√©n va dirigido nuestro proyecto? üì´üì´

Queremos centrarnos en un p√∫blico joven, aunque no nos desagrada la idea de que sea para un p√∫blico general. Nos enfocamos en que sea agradable para que todos los p√∫blicos est√©n c√≥modos al usar la p√°gina. Queremos que sea algo intuitivo y sencillo. 

# M√≥dulos del ciclo que tengan que ver con el proyecto üìúüìú

- Seguridad inform√°tica (copias de seguridad).

- Aplicaciones web (PHP y MySQL).

- Sistemas operativos en red y servicios en red (m√°quinas virtuales del proyecto).


# Materiales necesarios ‚õèÔ∏è‚õèÔ∏è

 F√≠sicos: Varios ordenadores 

 L√≥gicos: M√°quinas virtuales, ISO  

 # Especificar objetivos y las funcionalidades. 

Nuestra meta es crear una web donde se puedan hacer rese√±as de pel√≠culas. Tambi√©n queremos que los usuarios puedan crear listas de pel√≠culas para organizar y ordenar mejor sus contenidos.
 

# Especificar listado de tareas.

- Crear los servidores y configurarlos para que ofrezcan los servicios que necesitamos.

- Crear p√°ginas web con frontend y backend.

- Configurar la base de datos para que funcionen los registros.

 

# Asignar roles y responsabilidades del equipo. 

- Iv√°n Mart√≠n: Web 

- V√≠ctor Polo: Sistemas 

 

 # Diagrama de la red.

Este es el diagrama de la red, donde podemos apreciar el esquema de c√≥mo estar√° estructurada nuestra red y las direcciones IP que utilizaremos.

En el diagrama de la red podemos ver c√≥mo se estructura nuestra red y tambi√©n las direcciones IP que usaremos.

 <br />
<div align="center">
  <a href="https://github.com/S0gt/MEDITACION-DE-GURU/blob/main/IMAGENES/diagrama%20red.png?raw=true">
    <img src="IMAGENES/diagrama red.png" alt="diagrama red">
  </a>
<div align="left">
 

 

# Las tecnolog√≠as a implementar. 

Apache, PHP y MySql (Para web) 

TRUENAS (Backups) 

PFsense (Firewall y DHCP)

Bind9 (DNS)

# El hardware que se va a utilizar. 

A√∫n no sabemos con seguridad todo el hardware que usaremos al final del proyecto, pero por el momento podemos decir que ser√°...

| COMPONENTE        | SO                  | ALMACENAMIENTO | CPU          | RAM  | IP                | GATEWAY      |
|-------------------|---------------------|----------------|---------------|------|-------------------|--------------|
| üñ•Ô∏è MAQUINA HOST  | Pfsense             | 50 GB          | 2             | 4 GB | 000.00.00.000     | 000.00.00.0  |
| üíª CLIENTE       | Ubuntu 22.04.02     | 50 GB          | 4             | 4 GB | 000.000.0.00/00   | 000.000.0.0  |
| üåê DNS / DHCP    | Ubuntu 22.04.02     | 50 GB          | 2             | 4 GB | 000.000.0.0/00    | 000.000.0.0  |

# DNS/DHCP

- DNS: convierte los nombres de p√°ginas web en direcciones que los PC entienden para conectarse.

- DHCP: asigna autom√°ticamente las direcciones IP a los dispositivos cuando se conectan, sin configurarlos manualmente.
  

# Los servicios a implementar. 

- DNS: Para que nuestro servidor sea capaz de resolver direcciones web.

- DHCP: Para asignar las IP autom√°ticamente al resto de las m√°quinas virtuales.


# Los sistemas operativos a utilizar. 

- Ubuntu Desktop 22.04.2

- Ubuntu Server 22.04.2

- Windows 10  22H2_Spanish

 

# Establecer un diagrama de Gantt con los objetivos y resultados a alcanzar. 
<div align="center">
  <a href="[[[https://github.com/S0gt/MEDITACION-DE-GURU/blob/main/logo.png?raw=true](https://github.com/S0gt/MEDITACION-DE-GURU/blob/main/Dibujo.png?raw=true)](https://github.com/S0gt/MEDITACION-DE-GURU/blob/main/IMAGENES/Dibujo.png?raw=true)](https://github.com/S0gt/MEDITACION-DE-GURU/blob/main/IMAGENES/Diagrama.png?raw=true)">
    <img src="IMAGENES/Diagrama.png" alt="Diagrama" width="1200" height="500">
  </a>
<div align="left">


 # Incidencias üößüöß
 
A lo largo del trabajo han surgido varios problemas; aqu√≠ describiremos todos ellos durante el proyecto:

- Al configurar el DNS y el DHCP cometimos varios errores al escribir c√≥digos y comandos.

- Finalmente, cambiamos la forma de hacerlo, usando Pi-hole con una interfaz gr√°fica en nuestro servidor.

- Hemos descargado el navegador, pero tambi√©n necesitamos instalar uno en el servidor.

</details>

<div align="left">

  <details>
    <summary><h2>FIREWALL üêàüêà</h2></summary>

# INTRODUCCION A FIREWALL

## Concepto 

-pfSense es un sistema operativo de c√≥digo abierto basado en FreeBSD, dise√±ado para funcionar como firewall y router. Es muy utilizado en redes peque√±as y grandes debido a su potencia, flexibilidad y facilidad de uso mediante su interfaz web.

## Caracter√≠sticas

Sus caracter√≠sticas principales son el soporte para VPN, balanceo de carga y la gesti√≥n de DNS y DHCP. Tiene muchas m√°s caracter√≠sticas, pero estas son las m√°s destacadas para nosotros.


## Instalaci√≥n y puntos a tener en cuenta 

Para instalarlo, es tan f√°cil como ir a su web https://www.pfsense.org/download/ y desde ah√≠ descargar la ISO f√°cilmente.

Luego, en VirtualBox solo tenemos que crear una nueva m√°quina con recursos normales, teniendo en cuenta que no tiene interfaz gr√°fica. Seleccionamos FreeBSD como sistema operativo y seguimos la instalaci√≥n, que es bastante f√°cil e intuitiva.


![image](IMAGENES/descarga.png)

## Conclusi√≥n

pfSense permite publicar una p√°gina web de forma segura desde una red local, controlando el tr√°fico con reglas de firewall y NAT. Es f√°cil de usar y muy √∫til para proteger y gestionar redes, lo cual se adapta bien a lo que estamos buscando.

## Port Forward

El Port Forward permite que un servicio, que en nuestro caso ser√° una p√°gina web, sea visible desde fuera de la red donde est√° configurada.

Es un m√©todo de redirecci√≥n de puertos que se usa para que varios dispositivos puedan comunicarse; sobre todo se utiliza en dispositivos como c√°maras de seguridad o para conectarnos a servidores de pel√≠culas.

Lo configuramos creando una nueva regla en la secci√≥n NAT, configurando la interfaz en WAN para tr√°fico externo, usando los protocolos TCP/UDP, asignando el puerto HTTP a HTTP, redirigiendo a la IP que usamos, en nuestro caso 192.168.56.111, y listo.

Hemos configurado pfSense y un cliente, el cual conectamos a pfSense y nos brind√≥ una direcci√≥n IP dentro del dominio.

![image](https://github.com/user-attachments/assets/5042db07-4b3f-4987-8f96-f4daa7d055d0)

Hemos usado el Port forward ya que permite acceder a servicios internos desde fuera de la red, asi todos nuestros clientes podran acceder a nuestra p√°gina web sin problema.

</details>

 <div align="left">

  <details>
    <summary><h2>DNS/DHCP üò∂‚Äçüå´Ô∏èüò∂‚Äçüå´Ô∏è</h2></summary>
    
# Introducci√≥n al servicio (DNS y al DHCP)

  DNS (Domain Name System): Es un servicio que traduce nombres de dominio en direcciones IP. Facilita la navegaci√≥n en internet y la gesti√≥n de redes.

  DHCP (Dynamic Host Configuration Protocol): Es un protocolo que asigna autom√°ticamente direcciones IP y puertas de enlace y DNS a los dispositivos de una red.

## ¬øPor qu√© es necesario?

DNS: Permite que los usuarios accedan a sitios web y recursos de red usando nombres en lugar de n√∫meros dif√≠ciles de recordar.

DHCP: Simplifica la administraci√≥n de redes al asignar IPs autom√°ticamente, evitando conflictos de direcciones y configuraciones manuales.

## ¬øD√≥nde hay informaci√≥n oficial?

- Al usar Linux para clientes y server en todo el trabajo, Bind9 se podria adaptar perfectamente a nuestras necesidades

  DNS: https://bind9.readthedocs.io/en/v9.20.7/ 

  DHCP: https://documentation.ubuntu.com/server/how-to/networking/install-isc-dhcp-server/index.html

## Instalaci√≥n (DNS y del DHCP)

  DNS:

  DHCP:

## Detalles de la MV

  Servidor: 
  
¬∑ 2 CPU 

¬∑ 2 GB de memoria RAM 

¬∑ 25 GB de disco duro 

¬∑ 2 interfaces de red (ad.pnte y red interna) 


  </details>

  <details>
    <summary><h2>TRUENAS ‚õàÔ∏è‚õàÔ∏è</h2></summary>

  ## ¬øQu√© es?
  
  TrueNAS es un programa gratuito que puedes instalar en un ordenador para convertirlo en un servidor donde se guardan archivos. Es como tener un disco duro gigante al que se pueden conectar otros ordenadores de la misma red para guardar, copiar o ver archivos, sin necesidad de usar internet. Es parecido a tener tu propia nube personal, pero solo accesible dentro de tu casa, instituto o empresa.


  ## ¬øPor qu√© usarlo?
  
- Es gratis y de c√≥digo abierto.

- Funciona en ordenadores normales.

- Es muy estable y seguro.

- Permite ahorrar dinero en lugar de comprar soluciones comerciales caras.

- Se usa tanto en hogares como en empresas.

  ##Informaci√≥n oficial
  
https://www.truenas.com

## Gu√≠a de instalaci√≥n

## Descarga e instalaci√≥n:
Descarga la ISO de TrueNAS SCALE y crea una m√°quina virtual en VirtualBox con sistema FreeBSD 64-bit usando esa ISO para instalar.

## Configura discos y red:
Agrega dos discos virtuales peque√±os adicionales. Configura un adaptador de red en modo NAT y otro en modo puente para comunicaci√≥n con internet y tu equipo.

## Instala TrueNAS en la VM:
Arranca la VM, instala TrueNAS seleccionando el disco de instalaci√≥n, crea la contrase√±a root, apaga y retira la ISO para que arranque solo TrueNAS.

## Clona la m√°quina virtual:
Haz una copia id√©ntica para usarla en pruebas de replicaci√≥n y respaldo entre ambas usando rsync.

## Accede a la interfaz web:
Desde otro equipo, entra a la IP que muestra TrueNAS e inicia sesi√≥n como root.

Crea un pool de almacenamiento con los discos disponibles (RAID 1 o RAID 5).

Crea un usuario para las tareas de respaldo.

Activa y configura servicios SMB, SSH y rsync, creando un m√≥dulo con permisos adecuados.

## Tareas autom√°ticas con rsync:
Crea una tarea rsync para enviar datos a la VM clonada en horarios programados.

## Automatiza con cron y scripts:
Crea un cronjob que ejecute un script backup.sh que contenga comandos rsync para hacer copias de seguridad de forma autom√°tica.
Resumen final
Con esto tendr√°s un sistema de almacenamiento TrueNAS funcionando en dos m√°quinas virtuales, configurado para hacer copias de seguridad usando rsync, tanto manualmente como programadas autom√°ticamente con cron y scripts personalizados.


  </details>

<div align="left">

  <details>
    <summary><h2>P√°gina Web ü§°ü§°</h2></summary>

# Apache

## ¬øQu√© es?

Apache es un servidor web de c√≥digo abierto ampliamente utilizado para alojar sitios web y aplicaciones.

## ¬øPor qu√© usarlo?

Fiabilidad y seguridad

Modularidad y compatibilidad con distintos lenguajes

Uso en entornos locales e internet

## Documentaci√≥n oficial

https://httpd.apache.org/docs/

# Instalaci√≥n en Ubuntu Server

## Configuraci√≥n de la MV

SO: Ubuntu Server 20.04

RAM: 2GB

Disco: 20GB

Red: Red NAT "NatNetworkSMX2"

# Pasos

## Actualizar paquetes:

sudo apt update && sudo apt upgrade -y

## Instalar Apache:

sudo apt install apache2 -y

## Habilitar y verificar el servicio:

sudo systemctl enable --now apache2
sudo systemctl status apache2

## Configurar firewall:

sudo ufw allow 'Apache'
sudo ufw enable


 
# INCIDENCIAS (APACHE)‚ö†Ô∏è‚ö†Ô∏è

Durante la realizaci√≥n del apartado de Apache tuvimos m√∫ltiples problemas, todos debidos a que intentamos adelantarnos e instalar PHP y MySQL antes de que lo explicaran en clase. Esto nos caus√≥ confusi√≥n durante la instalaci√≥n y la complic√≥ demasiado, hasta que aparecieron muchos errores con los archivos. Al final, decidimos pasar todo de Debian a Ubuntu Server. Al hacer esto, la instalaci√≥n fue mucho m√°s f√°cil para nosotros y pudimos completarla sin mayor dificultad.

## Nuestro mapa de la web:

  <a href=https://github.com/S0gt/MEDITACION-DE-GURU/blob/main/IMAGENES/Mapa%20de%20la%20web.jpg>
  
  <img src="IMAGENES/Mapa de la web.jpg" alt="Mapa de la web" width="1200" height="500">
    
  </a>

## Preview del home de la web:

  <a href=https://github.com/S0gt/MEDITACION-DE-GURU/blob/main/IMAGENES/Mapa%20de%20la%20web.jpg>
  
  <img src="IMAGENES/pagina home.png" alt="pagina home">

## Preview del login de la p√°gina:

<a href=https://github.com/S0gt/MEDITACION-DE-GURU/blob/main/IMAGENES/login.png>

<img src="IMAGENES/login.png" alt="login">

## Preview de las rese√±as de la web:

<a href=https://github.com/S0gt/MEDITACION-DE-GURU/blob/main/IMAGENES/login.png>

<img src="IMAGENES/pAGINA RESE√ëAS.png" alt="pAGINA RESE√ëAS">


 </details>

<div align="left">

  <details>
    <summary><h2>Recursos üîéüîé</h2></summary>
  


Los recursos a los que hemos recurrido en la creaci√≥n del proyecto son:

- DNS y DHCP: seguimos la gu√≠a de Punkymo de Alina.

- Apache: utilizamos una gu√≠a de DigitalOcean sobre Apache, PHP y MySQL: https://www.digitalocean.com/community/tutorials/how-to-install-lamp-stack-on-ubuntu

- Firewall: para el firewall usamos pfSense y nos guiamos por la gu√≠a de Punkymo.

- Copias de seguridad: usamos TrueNAS y nuevamente seguimos la gu√≠a de Punkymo.


   </details>

   <div align="left">

  <details>
    <summary><h2>Conclusionesüëøüëø</h2></summary>

Con este proyecto hemos aplicado lo aprendido sobre redes y servicios, creando una p√°gina web para compartir opiniones de pel√≠culas. Hemos aprendido a preparar el servidor, gestionar la red y permitir el acceso desde fuera. Esto nos ha ayudado a entender mejor c√≥mo funciona y se mantiene una p√°gina web real.

  </details>
